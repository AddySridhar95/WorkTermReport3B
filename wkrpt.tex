\documentclass[12pt]{article}
\usepackage{wkrpt}
\begin{document}

% TODO change to Global scoped vs Atomic CSS

% TODO: remove all occurences of atomic-scoped. there is nothing like that. change that to atomic css

\title{An Analysis of Using Global Scoped Style Sheets and Atomic Scoped Style Sheets in the Context of Styling Component Based Applications}
{
	Yahoo!\\
	Sunnyvale, CA
}
{
	Aditya Sridhar\\
	3B Software Engineering\\
	Student ID 20539123\\
	User ID a3sridha\\
	September 8, 2016
}


\letter{An Analysis of Using Global Scoped Style Sheets and Atomic Scoped Style Sheets in the Context of Styling Component Based Applications}{3B}{Yahoo!}{Mail Front-end}
{
	\noindent
	Aditya Sridhar\\
	201 Lester Street\\
	Waterloo, ON N2L 3G1
}
{
	This report, entitled \textit{“An Analysis of Using Global Scoped Style Sheets and Atomic Scoped Style Sheets in the Context of Styling Component Based Applications”}, was prepared during my 3B work term at Yahoo!, where I worked on Yahoo! Mail in the Front-end team.
}
{
	The Yahoo! Mail front-end team is currently developing the next generation web client of Yahoo! Mail built using ReactJS. What did you work on .. 

}
{
	% The team has adopted the Atomic CSS paradigm for maintaining style sheets developed by other engieers at Yahoo
	Description of report and how it related to co-op position.
}
{
	Acknowledgements
}
{
	Aditya Sridhar, 20539123
}


\tocsection{Executive Summary}
EXECUTIVE SUMMARY
\newpage

% para 1: The next generation of Yahoo Mail is built on ReactJS. ReactJS is used to build component-based web application. The idea is that the component is a single unit of the UI and deals with all that is assocciation with that unit(check dan hood ...) This report analyses the use of Atomic CSS (component-scoped) and global scoped CSS

% para 2: A more traditional approach


\toc
% \lof
% \lot


\pagenumbering{arabic}
\section{Introduction}
\subsection{Background Information}

Yahoo! is an internet technology company and is recognized as one of the pioneers of the early-internet era. Yahoo! Mail is a web-based email service owned by Yahoo! with hundreds of millions of users worldwide. The next generation of Yahoo! Mail web client is currently being developed and is built using the ReactJS framework. ReactJS is a component-based JavaScript library used for building user interfaces. The idea behind a component-based framework is that a complex user interface should composed of multiple components, and each component should follow the Single Responsibility Principle (SRP). This implies implies that a particular component should be responsible for single part of the user interface.

\vspace{0.5cm}

\begin{table}[h]
	\centering
	\begin{tabular}{|c|c|}
		\hline
		\textbf{Concern} & \textbf{Resource} \\ 
		\hline
		Presentation & CSS \\
		\hline 
		Structure & HTML \\
		\hline
		Behaviour & JavaScript \\
		\hline
	\end{tabular}
	\caption{Long table caption}
\end{table}

\vspace{0.5cm}

Traditionally, the development of web pages was based on the principle of Separation of Concerns (SoC) which advocates breaking a problem into different concerns and using a resource to address a particular concern. In the context of web pages, the structure, presentation and behaviour layers were identified as separate concerns with Hyper Text Markup Language (HTML) defining the structure of a web page, Cascading Style Sheets (CSS) defining the content presentation styles and JavaScript (JS) defining how the web page behaves with user interaction. Table 1.1 summarizes the SoC principle in the case of web page development.

\subsection{Introduction to the Issue}
CSS is a collection of rules, each rule containing one or more selectors and a block of styles. These rules are written in style sheets which are then packaged in the main project. A selector is used to identify a particular HTML element in the web page content and the styles specified in the rule are applied to that particular HTML element. Figure 1.1 better elaborates how CSS rules work. The selector \textit{div} targets the \textit{<div>} HTML element and the styles mentioned in the corresponding style block are applied to the targeted HTML element.

\vspace{0.5cm}

\begin{figure}[h]
\includegraphics[scale=0.7]{selector-normal}
\centering
\caption{Example of styling using CSS selectors}
\end{figure}

\vspace{0.5cm}

The scope of a CSS rule is a portion of the web page where that rule can be used to style an element on the web page. The rules contained in a global-scoped style sheet can be used to style any element on the web page. Hence the scope of the rules in a global style sheet is not limited to a particular portion of the web page. Atomic CSS on the other hand is a design principle that advocates restricting the scope of a CSS rule to a component of the web page.

This report compares CSS in global style sheets with Atomic CSS in the context of styling component-based applications. It first provides some additional information about the issue and lists a set of design constraints and the evaluation criteria. It identifies the benefits and pitfalls of each accepted solution. The report uses AHP to perform quantitative analysis of the alternatives against a set of evaluation criteria. The report then concludes by identifying the best solution and provides some recommendations.

\newpage

\section{Problem Specifications}
\subsection{Problem Description}
CSS is an important component of the front-end toolkit. Since the internet is composed of billions of web pages, CSS is being used on a regular basis to govern the look and feel of web pages. One of the main concerns of using CSS is maintainability. CSS is easy to maintain when the web pages have less content, but as the size of the project increases, the maintainability of style sheets decreases. High maintainability implies that a developer can modify a particular rule without worrying about it adversely impacting other rules. Low maintainability hampers the scalability of a project from a design standpoint and significantly affects the developers in the team.

% #TODO: Either insert specificity table or figure comparing how higher specificity of style leads to overrriding thing and explain

As mentioned earlier, a CSS selector targets a particular HTML element in the web page content and the styles linked to the selector is applied to element it targets. As the content of the web page grows, CSS selectors are more specific and descriptive to target a particular element in the web page. This is termed as selector specificity. If two selectors target the same element in the web page content, the selector with higher specificity tends to override the selector with lower specificity. The style sheet containing selectors with high specificity makes it harder for an existing style to be overriden by a new style. Hence low specificity leads to high maintainability.

\begin{figure}[h]
\includegraphics[scale=0.7]{descendent-selector}
\centering
\caption{Example of styling using context-based selectors}
\end{figure}

At times, a developer might want to match a web page element that is a descendent of another web page element. For example in Figure 2.1 the \textit{<div>} element whose class name is \textit{child1} is a descendent of the \textit{<div>} element whose class name is \textit{parent}. The CSS selector \textit{.parent .child1} is an example of a context-based selector. It is targeting the element with class name as \textit{child1} that is a descendent of the element with class name as \textit{parent}. This means that the descendent element is being styled in the context of its parent, and that the rule is redundant outside of this context. This will ultimately lead to more rules being added to the style sheet if the requirement to style the same element outside of the context arises.


% TODO: add one more para

% As the number of rules in a style sheet increases, the maintainability decreases. Hence making the styles reusable makes the stylesheets more maintainable. ... Intutive thing ... 


% what is context based styling and descendent selectors and how does it affect maintainablility



% how decoupling .... makes.... 
% why is maintainablity affected
% why context based styling affects maintainabliity..


% In problem description mainly talk about maintainability, and talk about how disadvantages of global CSS leads to maintainability issues. Also introduce topics like contextual selectors



% TODO: explain different types of selectors, explain contextual styling

% IMPORTANT POINT: reducing the scope improves maintainability significantly

\subsection{Design Constraints}
A solution should adhere to the following design constraints, in order to be deemed as an accepted solution:
\begin{enumerate}

	\item The styles should be able to be overriden by other styles if required. That is, the selector must not have the highest specificity.

	\item The styles should be able to be applied using class selectors.

\end{enumerate}
% Design constraints: 1) If change occurs, should not be applied to every element 3) Ability to style using classes. Refer to https://vineetgupta22.wordpress.com/2011/07/09/inline-vs-internal-vs-external-css/


\subsection{Design Criteria}
The following evaluation criteria are used to compare the two accepted solutions:
\begin{enumerate}

	\item \textbf{Minimize the usage of context-based styling}: The accepted solution should limit the usage of contextual styling as this demotes reusability and portability of styles. This ultimately makes style sheets hard to maintain.
	% Note: this can be done by limiting the use of descendent selectors. say in global approach this could be kept in mind but hard to enforce as projects grow. In atomic approach this never happens

	\item \textbf{Low specificity of styles}: Low CSS specificity enables the developer to override a CSS rule when requirements change. This makes the style sheets more maintainable.

	\item \textbf{Intuitive style changes}: The accepted solution should be intuitive and predictable enough for the developer to visualize any changes made to the style sheet in terms of web page presentation. This includes adding, removing and modifying rules.

	\item \textbf{Style reusability} The accepted solution should promote reusability of styles. New style requirements being added to the specification should sparingly lead to new rules being added to the style sheet.

	\item \textbf{Decouple markup and styles} The accepted solution should disallow coupling of web page content (markup) and styles. This enables the developer to make changes to the presentation without making changes to the markup.

\end{enumerate}

\subsection{Evaluation Process}

\newpage

\section{Accepted Solutions}
\subsection{Atomic CSS}
% TODO: conceived at Yahoo
% This approach does not need context-based styling to localize scope
\subsubsection{Explaination}
% Scope limited to component. why component makes sense ... in a component based app

\subsubsection{Advantages}
\subsubsection{Disadvantages}

\subsection{Global Scoped Style Sheets}
\subsubsection{Explaination}
% Traditional approach. When SoC occured, this gained pace. Maybe talk about history

The rules present in a global-scoped style sheet can be used to style any element in the web page content. Since the scope is not limited to a particular portion of the web page, the usage of context-based selectors is inevitable as the size of the project grows. This tends to increase the specificity of CSS selectors. As an example consider the case in Figure x.x. The CSS selector is targetting the \textit{<p>} element and setting its font size to be 10 pixels.

% TODO investigate including the two figures in one \begin{figure} block and using (a) and (b)

\vspace{0.5cm}

\begin{figure}[h]
\includegraphics[scale=0.7]{global-scope-one}
\centering
\caption{TODO}
\end{figure}

\vspace{0.5cm}

Now, say a new requirements demands all \textit{<p>} elements contained inside a \textit{<div>} element with class name as \textit{enlarged} to have a font size of 30 pixels. To override the existing style targetting all \textit{<p>} elements, we are forced to use context-based selector as illustrated in Figure x.y.

\vspace{0.5cm}

\begin{figure}[h]
\includegraphics[scale=0.7]{global-scope-two}
\centering
\caption{TODO}
\end{figure}

\vspace{0.5cm}


\subsubsection{Advantages}
The following are the advantages of using global-scoped style sheets:
% \begin{enumerate}
% 	\item
% 	\item
% \end{enumerate}
% No separation of concerns.

% Wide range of selectors can be used. 

\subsubsection{Disadvantages}
% Possibility of selectors having high specificity
% Possibility of context based styling
% Possibility of redundancy

\newpage

\section{Alternative Not Considered}
% inline CSS
% Drawbacks:
% 1) If change occurs, should not be applied to every element 3) Ability to style using classes. Refer to https://vineetgupta22.wordpress.com/2011/07/09/inline-vs-internal-vs-external-css/
\newpage

\section{Conclusions}
CONCLUSIONS
\newpage

\section{Recommendations}
RECOMMENDATIONS
\newpage


\addcontentsline{toc}{section}{\refname}
\bibliography{wkrpt}
\newpage


\tocsection{Acknowledgements}
ACKNOWLEDGEMENTS
\newpage


% \appendix{APPENDIX INDEX}{APPENDIX NAME}
% APPENDICES
% \newpage


\end{document}
